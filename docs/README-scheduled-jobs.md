# ğŸš€ Render å®šæœŸä»»å‹™å¿«é€Ÿè¨­ç½®æŒ‡å—

## æ¦‚è¿°

é€™å€‹æŒ‡å—å°‡å¹«åŠ©ä½ å¿«é€Ÿè¨­ç½® Render çš„å®šæœŸä»»å‹™ï¼Œå¯¦ç¾ç³»çµ±çš„è‡ªå‹•åŒ–ç¶­è­·ã€‚

## âœ… å‰ææ¢ä»¶

1. âœ… å·²æ¸¬è©¦ One-Off Jobs åŠŸèƒ½æ­£å¸¸
2. âœ… å·²è¨­ç½® `RENDER_API_KEY` å’Œ `RENDER_SERVICE_ID` ç’°å¢ƒè®Šæ•¸
3. âœ… å·²ç¢ºèªè…³æœ¬åœ¨ Render ç’°å¢ƒä¸­èƒ½æ­£å¸¸åŸ·è¡Œ

## ğŸ¯ å¿«é€Ÿè¨­ç½®æ­¥é©Ÿ

### æ­¥é©Ÿ 1: æŸ¥çœ‹å®šæœŸä»»å‹™é…ç½®

```bash
# æŸ¥çœ‹æ‰€æœ‰å®šæœŸä»»å‹™é…ç½®
node scripts/schedule-jobs.js show
```

### æ­¥é©Ÿ 2: æ‰¹é‡å‰µå»ºå®šæœŸä»»å‹™

```bash
# å‰µå»ºæ‰€æœ‰å®šæœŸä»»å‹™ï¼ˆä¸€æ¬¡æ€§å‰µå»ºï¼‰
node scripts/schedule-jobs.js create
```

### æ­¥é©Ÿ 3: åœ¨ Render Dashboard ä¸­è¨­ç½® Cron Jobs

#### 3.1 å‰µå»ºæ¯å°æ™‚ä»»å‹™

1. ç™»å…¥ [Render Dashboard](https://dashboard.render.com)
2. é»æ“Š "New" â†’ "Cron Job"
3. è¨­ç½®ï¼š
   - **Name**: `æ¯å°æ™‚ä»»å‹™`
   - **Start Command**: `cd /opt/render/project/src && node scripts/render-jobs.js update-hot-scores`
   - **Schedule**: `0 * * * *`

#### 3.2 å‰µå»ºæ¯æ—¥ä»»å‹™

1. é»æ“Š "New" â†’ "Cron Job"
2. è¨­ç½®ï¼š
   - **Name**: `æ¯æ—¥ç¶­è­·ä»»å‹™`
   - **Start Command**: `cd /opt/render/project/src && node scripts/render-jobs.js cleanup-reminders`
   - **Schedule**: `0 2 * * *`

#### 3.3 å‰µå»ºæ¯é€±ä»»å‹™

1. é»æ“Š "New" â†’ "Cron Job"
2. è¨­ç½®ï¼š
   - **Name**: `æ¯é€±ä»»å‹™`
   - **Start Command**: `cd /opt/render/project/src && node scripts/render-jobs.js weekly-summary-notifications`
   - **Schedule**: `0 10 * * 1`

## ğŸ“… ä»»å‹™åŸ·è¡Œæ™‚é–“è¡¨

| æ™‚é–“   | ä»»å‹™                 | é »ç‡   |
| ------ | -------------------- | ------ |
| 01:00  | æª¢æŸ¥ä¸¦ä¿®æ­£è¨ˆæ•¸       | æ¯å¤©   |
| 02:00  | ç™¼é€å¸³è™Ÿåˆªé™¤æé†’     | æ¯å¤©   |
| 03:00  | åˆªé™¤æœªé©—è­‰ç”¨æˆ¶       | æ¯å¤©   |
| 04:00  | æ¸…ç†èˆŠé€šçŸ¥           | æ¯å¤©   |
| 05:00  | æ›´æ–°å…§å®¹åŸºç¤æ¨è–¦     | æ¯å¤©   |
| 06:00  | æ›´æ–°å”åŒéæ¿¾æ¨è–¦     | æ¯å¤©   |
| 07:00  | æ›´æ–°ç¤¾äº¤å”åŒéæ¿¾æ¨è–¦ | æ¯å¤©   |
| 08:00  | æ›´æ–°æ‰€æœ‰æ¨è–¦ç³»çµ±     | æ¯å¤©   |
| 09:00  | ç™¼é€ç†±é–€å…§å®¹é€šçŸ¥     | æ¯å¤©   |
| 10:00  | ç™¼é€é€±å ±æ‘˜è¦é€šçŸ¥     | æ¯é€±ä¸€ |
| æ¯å°æ™‚ | æ›´æ–°ç†±é–€åˆ†æ•¸         | æ¯å°æ™‚ |

## ğŸ”§ ç›£æ§å’Œç®¡ç†

### æŸ¥çœ‹ä»»å‹™ç‹€æ…‹

```bash
# åˆ—å‡ºæ‰€æœ‰ä»»å‹™
node scripts/render-api-client.js list

# æŸ¥çœ‹ç‰¹å®šä»»å‹™ç‹€æ…‹
node scripts/render-api-client.js status <job-id>
```

### æ‰‹å‹•è§¸ç™¼ä»»å‹™

```bash
# æ‰‹å‹•è§¸ç™¼å–®å€‹ä»»å‹™
node scripts/render-api-client.js create cleanup-reminders
node scripts/render-api-client.js create update-hot-scores
```

## ğŸ¯ é«˜ç´šé…ç½®

### è‡ªå®šç¾©ä»»å‹™æ™‚é–“

å¦‚æœéœ€è¦èª¿æ•´ä»»å‹™åŸ·è¡Œæ™‚é–“ï¼Œå¯ä»¥ç·¨è¼¯ `scripts/schedule-jobs.js` ä¸­çš„é…ç½®ï¼š

```javascript
const SCHEDULED_JOBS = [
  {
    name: 'cleanup-reminders',
    description: 'ç™¼é€å¸³è™Ÿåˆªé™¤æé†’',
    command: 'cd /opt/render/project/src && node scripts/render-jobs.js cleanup-reminders',
    schedule: '0 2 * * *', // ä¿®æ”¹é€™è£¡çš„æ™‚é–“
    category: 'ç”¨æˆ¶ç®¡ç†',
  },
  // ... å…¶ä»–ä»»å‹™
]
```

### æ·»åŠ æ–°ä»»å‹™

1. åœ¨ `scripts/render-jobs.js` ä¸­æ·»åŠ æ–°ä»»å‹™
2. åœ¨ `scripts/schedule-jobs.js` ä¸­æ·»åŠ é…ç½®
3. é‡æ–°é‹è¡Œè¨­ç½®è…³æœ¬

## ğŸ“Š ç›£æ§å’Œè­¦å ±

### è¨­ç½®å¤±æ•—é€šçŸ¥

1. åœ¨ Render Dashboard ä¸­è¨­ç½®å¤±æ•—é€šçŸ¥
2. é…ç½® Slack æˆ– Email é€šçŸ¥
3. å®šæœŸæª¢æŸ¥ä»»å‹™åŸ·è¡Œç‹€æ…‹

### æŸ¥çœ‹æ—¥èªŒ

1. åœ¨ Render Dashboard ä¸­é»æ“Šä»»å‹™
2. æŸ¥çœ‹ "Logs" æ¨™ç±¤
3. åˆ†æéŒ¯èª¤ä¿¡æ¯å’ŒåŸ·è¡Œçµæœ

## ğŸ‰ å®Œæˆè¨­ç½®

å®Œæˆä»¥ä¸Šæ­¥é©Ÿå¾Œï¼Œä½ çš„ç³»çµ±å°‡å…·å‚™ï¼š

- âœ… **è‡ªå‹•ç”¨æˆ¶ç®¡ç†**ï¼šå®šæœŸæ¸…ç†æœªé©—è­‰ç”¨æˆ¶å’Œç™¼é€æé†’
- âœ… **è‡ªå‹•é€šçŸ¥ç³»çµ±**ï¼šç™¼é€ç†±é–€å…§å®¹å’Œé€±å ±é€šçŸ¥
- âœ… **è‡ªå‹•æ¨è–¦ç³»çµ±æ›´æ–°**ï¼šä¿æŒæ¨è–¦ç³»çµ±çš„æº–ç¢ºæ€§
- âœ… **è‡ªå‹•ç¶­è­·**ï¼šæ•¸æ“šä¸€è‡´æ€§æª¢æŸ¥å’Œä¿®æ­£

## ğŸ“ æ³¨æ„äº‹é …

1. **å‚™ä»½æ•¸æ“š**ï¼šåŸ·è¡Œæ¸…ç†ä»»å‹™å‰å‹™å¿…å‚™ä»½é‡è¦æ•¸æ“š
2. **æ¸¬è©¦é©—è­‰**ï¼šå…ˆåœ¨æ¸¬è©¦ç’°å¢ƒä¸­é©—è­‰æ‰€æœ‰ä»»å‹™
3. **ç›£æ§åŸ·è¡Œ**ï¼šå®šæœŸæª¢æŸ¥ä»»å‹™åŸ·è¡Œæ•ˆæœ
4. **åŠæ™‚æ›´æ–°**ï¼šä»»å‹™è®Šæ›´æ™‚åŠæ™‚æ›´æ–°æ–‡æª”

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **ä»»å‹™åŸ·è¡Œå¤±æ•—**
   - æª¢æŸ¥ç’°å¢ƒè®Šæ•¸è¨­ç½®
   - æŸ¥çœ‹ä»»å‹™æ—¥èªŒ
   - ç¢ºèªæ•¸æ“šåº«é€£æ¥

2. **ä»»å‹™æœªæŒ‰æ™‚åŸ·è¡Œ**
   - æª¢æŸ¥ Cron è¡¨é”å¼
   - ç¢ºèªæ™‚å€è¨­ç½®
   - æŸ¥çœ‹æœå‹™ç‹€æ…‹

3. **è·¯å¾‘å•é¡Œ**
   - ç¢ºèªä½¿ç”¨æ­£ç¢ºçš„è·¯å¾‘ï¼š`cd /opt/render/project/src && node scripts/render-jobs.js <task-name>`

### è¯ç¹«æ”¯æ´

å¦‚æœé‡åˆ°å•é¡Œï¼Œå¯ä»¥ï¼š

1. æŸ¥çœ‹ [Render å®˜æ–¹æ–‡æª”](https://render.com/docs)
2. æª¢æŸ¥ä»»å‹™æ—¥èªŒå’ŒéŒ¯èª¤ä¿¡æ¯
3. è¯ç¹« Render æ”¯æ´åœ˜éšŠ

---

**ğŸ¯ æ­å–œï¼ä½ çš„ Render å®šæœŸä»»å‹™ç³»çµ±å·²ç¶“è¨­ç½®å®Œæˆï¼**
